<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
      // Define your data
      const data = [0, 100, 500, 1000, 2000, 5000, 10000, 1000000];

      // Calculate the number of bins using d3.thresholdScott()
      const numBins = d3.bin().thresholdScott(data);
      console.log(numBins);
      // Generate the threshold values using d3.histogram() and d3.scaleThreshold()
      const histogram = d3
        .histogram()
        .thresholds(numBins)
        .domain([0, d3.max(data)]);
      const bins = histogram(data);
      const thresholds = bins.map((bin) => bin.x1);

      // Define your color scale
      const colorScale = d3
        .scaleThreshold()
        .domain(thresholds)
        .range([
          "#f7fbff",
          "#deebf7",
          "#c6dbef",
          "#9ecae1",
          "#6baed6",
          "#3182bd",
          "#08519c",
        ]);

      // Map your data values to colors using the color scale
      const colorMappedData = data.map((d) => colorScale(d));
    </script>
  </body>
</html>
